---
import { COLORS } from '../../../constants';
import SectionHeading from '../../../components/ui/SectionHeading.astro';
import PillarCard from '../../../components/ui/PillarCard.astro';

interface OtherWaysItem {
  title?: string;
  text?: string;
  textHtml?: string;
  icon?: string;
  link?: string | null;
}

interface Props {
  sectionTitle?: string;
  items?: OtherWaysItem[];
}

const { sectionTitle = '', items = [] } = Astro.props;
const topItems = items.slice(0, 3);
const bottomItems = items.slice(3, 5);
---

<section class="other-ways-section font-sans py-24" style={{ backgroundColor: COLORS.cream }}>
  <div class="container mx-auto px-6 lg:px-12 max-w-6xl">
    <div class="text-center max-w-3xl mx-auto mb-20">
      {sectionTitle && <SectionHeading>{sectionTitle}</SectionHeading>}
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-10 lg:gap-12 mb-10 lg:mb-12">
      {topItems.map((item: OtherWaysItem) =>
        item.link ? (
          <a href={item.link} class="block no-underline text-inherit hover:opacity-95 h-full">
            <PillarCard pillar={{ title: item.title ?? '', icon: item.icon ?? '', text: item.text ?? '', textHtml: item.textHtml }} />
          </a>
        ) : (
          <PillarCard pillar={{ title: item.title ?? '', icon: item.icon ?? '', text: item.text ?? '', textHtml: item.textHtml }} />
        )
      )}
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-10 lg:gap-12 max-w-4xl mx-auto">
      {bottomItems.map((item: OtherWaysItem) =>
        item.link ? (
          <a href={item.link} class="block no-underline text-inherit hover:opacity-95 h-full">
            <PillarCard pillar={{ title: item.title ?? '', icon: item.icon ?? '', text: item.text ?? '', textHtml: item.textHtml }} />
          </a>
        ) : (
          <PillarCard pillar={{ title: item.title ?? '', icon: item.icon ?? '', text: item.text ?? '', textHtml: item.textHtml }} />
        )
      )}
    </div>
  </div>
</section>
