---
import { COLORS } from '../../../constants';
import { GIVING_OPTIONS } from '../_constants/giving-options';
---

<section class="py-20 relative font-sans" style={{ backgroundColor: COLORS.blue.navy }}>
  <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"></div>
  <div class="container mx-auto px-4 lg:px-8 relative z-10">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-10 lg:gap-12 max-w-5xl mx-auto">
      {GIVING_OPTIONS.map((item) => (
        <div
          class="group relative bg-white rounded-xl overflow-hidden shadow-lg border-b-4 hover:-translate-y-1 transition-all duration-300 h-full pillar-card text-center"
          style={{ borderBottomColor: COLORS.blue.royal }}
        >
          <div class="h-2" style={{ background: `linear-gradient(to right, ${COLORS.blue.royal}, ${COLORS.blue.soft})` }}></div>
          <div class="p-6 flex flex-col items-center">
            <div
              class="w-12 h-12 rounded-full flex items-center justify-center mb-4 transition-colors pillar-icon shrink-0"
              style={{ backgroundColor: COLORS.blue.light, color: COLORS.blue.navy }}
            >
              <div class="giving-option-icon w-6 h-6" set:html={item.iconSvg} />
            </div>
            <h3 class="text-xl font-bold mb-3" style={{ color: COLORS.blue.navy }}>{item.title}</h3>
            <p class="text-gray-600 leading-relaxed text-sm">
              {item.description}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .giving-option-icon :global(svg) {
    width: 100%;
    height: 100%;
  }
</style>

<script>
  const pillarCards = document.querySelectorAll('.pillar-card');
  const greenColor = '#A4D16A';
  const blueLight = '#B9D9EB';

  pillarCards.forEach((card) => {
    const icon = card.querySelector('.pillar-icon');
    if (icon && 'style' in icon) {
      card.addEventListener('mouseenter', () => {
        (icon as HTMLElement).style.backgroundColor = greenColor;
      });
      card.addEventListener('mouseleave', () => {
        (icon as HTMLElement).style.backgroundColor = blueLight;
      });
    }
  });
</script>
