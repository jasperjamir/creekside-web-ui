---
import { COLORS } from '../../../constants';
import Button from '../../../components/ui/Button.astro';

const CONTACT_CTA = 'Contact Us';
const DONATE_CTA = 'Donate';
const CONTACT_HREF = '/contact';
const DONATE_HREF = '/support/donate';

interface Props {
  image?: { asset?: { url: string }; alt?: string };
  badge: string;
  headingSuffix: string;
  headingHighlight: string;
  subheading: string;
  subheadingHtml?: string;
}

const { image, badge, headingSuffix, headingHighlight, subheading, subheadingHtml } = Astro.props;
const imageUrl = image?.asset?.url ?? '';
---

<section class="relative h-[85vh] flex items-center overflow-hidden">
  <!-- Background Image with Overlay -->
  <div class="absolute inset-0 z-0">
    <img 
      src={imageUrl} 
      alt="Adult and child engaged in art activity at Creekside School" 
      class="w-full h-full object-cover"
    />
    <!-- Dominant background gradient overlay -->
    <div 
      class="absolute inset-0" 
      style={{ 
        background: `linear-gradient(to right, ${COLORS.blue.navy}E6, ${COLORS.blue.royal}CC, ${COLORS.blue.soft}66)` 
      }}
    ></div>
  </div>

  <div class="container mx-auto px-4 lg:px-8 relative z-10 text-white">
    <div class="max-w-3xl">
      {badge && (
        <div 
          class="inline-block px-4 py-1 mb-6 rounded-full backdrop-blur-sm border" 
          style={{ 
            backgroundColor: `${COLORS.blue.royal}80`, 
            borderColor: `${COLORS.blue.light}4D` 
          }}
        >
          <span class="text-sm font-bold tracking-wider uppercase">{badge}</span>
        </div>
      )}
      <h1 class="text-5xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-6 text-white">
        <span 
          class="px-3 mr-2 transform -skew-x-6 inline-block whitespace-nowrap" 
          style={{ backgroundColor: COLORS.green, color: COLORS.blue.navy }}
        >
          {headingHighlight}
        </span>
        {headingSuffix}
      </h1>
      {(subheadingHtml != null ? subheadingHtml : subheading) && (
        <p class="text-lg md:text-xl lg:text-2xl text-blue-50 mb-8 leading-relaxed max-w-2xl font-light">
          {subheadingHtml != null ? <span set:html={subheadingHtml} /> : subheading}
        </p>
      )}
      <div class="flex flex-col sm:flex-row gap-4">
        <Button variant="white" href={CONTACT_HREF}>
          {CONTACT_CTA}
        </Button>
        <Button variant="primary" href={DONATE_HREF}>
          {DONATE_CTA}
        </Button>
      </div>
    </div>
  </div>
</section>
