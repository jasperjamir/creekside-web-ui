---
import { COLORS } from '../../../constants';
import SectionHeading from '../../../components/ui/SectionHeading.astro';

interface Testimonial {
  text: string;
  author: string;
  role: string;
}

interface Props {
  heading: string;
  testimonials: readonly Testimonial[];
}

const { heading, testimonials } = Astro.props;
---

<section class="py-24" style={{ backgroundColor: COLORS.cream }}>
  <div class="container mx-auto px-4 lg:px-8">
    <SectionHeading className="text-center mb-24">{heading}</SectionHeading>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
      {testimonials.map((t) => (
        <div class="p-8 rounded-xl shadow-xl relative mt-6 md:mt-0 border-t-4" style={{ backgroundColor: COLORS.blue.navy, borderTopColor: COLORS.green }}>
          <div class="absolute -top-4 left-8 text-white p-2 rounded-full shadow-lg ring-4" style={{ backgroundColor: COLORS.blue.royal, ringColor: COLORS.cream }}>
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
          </div>
          <p class="text-blue-50 italic mb-6 leading-relaxed pt-2 font-light">
            "{t.text}"
          </p>
          <div class="flex items-center">
            <div class="w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3" style={{ backgroundColor: COLORS.blue.light, color: COLORS.blue.navy }}>
              {t.author[0]}
            </div>
            <div>
              <h4 class="font-bold text-white">{t.author}</h4>
              <p class="text-xs font-bold uppercase tracking-wider" style={{ color: COLORS.green }}>{t.role}</p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
